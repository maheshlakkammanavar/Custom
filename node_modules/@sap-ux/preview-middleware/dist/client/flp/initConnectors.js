"use strict";

sap.ui.define(["sap/ui/VersionInfo"], function (VersionInfo) {
  "use strict";

  /**
   * Initializes UI5 connectors based on the current UI5 version.
   *
   * For UI5 versions below 1.72, this function dynamically requires and executes a FakeLrepConnector.
   * For UI5 versions 1.72 and above, it defines a local connector that reuses the WorkspaceConnector.
   * This setup allows for flexibility in using different connectors based on the UI5 version.
   *
   * @example
   * intiConnectors(); // Simply call the function without any arguments.
   */
  async function initConnectors() {
    const version = (await VersionInfo.load({
      library: 'sap.ui.core'
    }))?.version;
    const versionArray = version ? version.split('.') : ['2', '99'];
    const minor = parseInt(versionArray[1], 10);
    const major = parseInt(versionArray[0], 10);
    if (major === 1 && minor < 72) {
      sap.ui.require(['open/ux/preview/client/flp/enableFakeConnector'], function (enableFakeConnector) {
        enableFakeConnector();
      });
    } else {
      sap.ui.define('custom.connectors.WorkspaceConnector', ['open/ux/preview/client/flp/WorkspaceConnector'], connector => connector, true);
    }
  }
  return initConnectors;
});
//# sourceMappingURL=initConnectors.js.map